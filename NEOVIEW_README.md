# NeoView - ç°ä»£åŒ–å›¾åƒæµè§ˆå™¨

åŸºäº Tauri 2 + Svelte 5 + Rust å¤åˆ»çš„ NeeView å›¾åƒæµè§ˆå™¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
neoview-tauri/
â”œâ”€â”€ src/                          # å‰ç«¯ Svelte ä»£ç 
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api/                  # Tauri API å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ book.ts          # ä¹¦ç±ç®¡ç† API
â”‚   â”‚   â”‚   â”œâ”€â”€ image.ts         # å›¾åƒåŠ è½½ API
â”‚   â”‚   â”‚   â””â”€â”€ fs.ts            # æ–‡ä»¶ç³»ç»Ÿ API
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainLayout.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TitleBar.svelte
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StatusBar.svelte
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Sidebar.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ viewer/          # æŸ¥çœ‹å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ImageViewer.svelte
â”‚   â”‚   â”‚   â”œâ”€â”€ panels/          # é¢æ¿ç»„ä»¶ (å¾…å®ç°)
â”‚   â”‚   â”‚   â””â”€â”€ controls/        # æ§ä»¶ç»„ä»¶ (å¾…å®ç°)
â”‚   â”‚   â”œâ”€â”€ stores/              # Svelte çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ book.svelte.ts   # ä¹¦ç±çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ ui.svelte.ts     # UI çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ book.ts
â”‚   â”‚   â”‚   â””â”€â”€ settings.ts
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â””â”€â”€ App.svelte               # ä¸»åº”ç”¨ç»„ä»¶
â”‚
â”œâ”€â”€ src-tauri/                    # Rust åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ commands/            # Tauri å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ book_commands.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ image_commands.rs
â”‚   â”‚   â”‚   â””â”€â”€ fs_commands.rs
â”‚   â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ book_manager.rs
â”‚   â”‚   â”‚   â””â”€â”€ image_loader.rs
â”‚   â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ book.rs
â”‚   â”‚   â”‚   â””â”€â”€ settings.rs
â”‚   â”‚   â””â”€â”€ lib.rs              # ä¸»å…¥å£
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ tauri.conf.json
â”‚
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# å‰ç«¯ä¾èµ–
yarn install

# Rust ä¾èµ–ä¼šåœ¨æ„å»ºæ—¶è‡ªåŠ¨å®‰è£…
```

### å¼€å‘æ¨¡å¼

```bash
yarn tauri dev
```

### æ„å»ºåº”ç”¨

```bash
yarn tauri build
```

## ğŸ¯ å·²å®ç°åŠŸèƒ½

### âœ… æ ¸å¿ƒæ¶æ„
- [x] Tauri 2 + Svelte 5 é¡¹ç›®ç»“æ„
- [x] TypeScript ç±»å‹ç³»ç»Ÿ
- [x] Rust æ•°æ®æ¨¡å‹å’Œåºåˆ—åŒ–
- [x] å‰åç«¯é€šä¿¡æ¶æ„

### âœ… åç«¯åŠŸèƒ½ (Rust)
- [x] ä¹¦ç±ç®¡ç†å™¨ (`BookManager`)
  - æ‰“å¼€/å…³é—­ä¹¦ç±
  - é¡µé¢å¯¼èˆª
  - æ–‡ä»¶å¤¹å›¾ç‰‡åŠ è½½
- [x] å›¾åƒåŠ è½½å™¨ (`ImageLoader`)
  - Base64 å›¾åƒåŠ è½½
  - å¤šæ ¼å¼æ”¯æŒ (JPG, PNG, GIF, WebP, AVIF ç­‰)
- [x] æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
  - ç›®å½•è¯»å–
  - æ–‡ä»¶ä¿¡æ¯è·å–

### âœ… å‰ç«¯åŠŸèƒ½ (Svelte)
- [x] ä¸»å¸ƒå±€ç³»ç»Ÿ
  - è‡ªå®šä¹‰æ ‡é¢˜æ 
  - ä¾§è¾¹æ é¢æ¿
  - çŠ¶æ€æ 
- [x] å›¾åƒæŸ¥çœ‹å™¨
  - å›¾åƒæ˜¾ç¤º
  - ç¼©æ”¾æ§åˆ¶
  - é¡µé¢å¯¼èˆª
  - é”®ç›˜å¿«æ·é”®
- [x] çŠ¶æ€ç®¡ç†
  - ä¹¦ç±çŠ¶æ€ Store
  - UI çŠ¶æ€ Store

### âœ… API æ¥å£
- [x] ä¹¦ç±æ“ä½œ API
- [x] å›¾åƒåŠ è½½ API
- [x] æ–‡ä»¶ç³»ç»Ÿ API

## ğŸ”œ å¾…å®ç°åŠŸèƒ½

### ä¼˜å…ˆçº§ 1: åŸºç¡€åŠŸèƒ½å®Œå–„
- [ ] å‹ç¼©åŒ…æ”¯æŒ (ZIP, RAR, 7z)
- [ ] PDF æ”¯æŒ
- [ ] æ–‡ä»¶å¤¹æµè§ˆé¢æ¿
- [ ] å†å²è®°å½•ç®¡ç†
- [ ] ä¹¦ç­¾åŠŸèƒ½

### ä¼˜å…ˆçº§ 2: é«˜çº§åŠŸèƒ½
- [ ] å›¾åƒç¼“å­˜ç³»ç»Ÿ
- [ ] ç¼©ç•¥å›¾ç”Ÿæˆ
- [ ] å›¾åƒé¢„åŠ è½½
- [ ] åŒé¡µæ˜¾ç¤ºæ¨¡å¼
- [ ] å›¾åƒæ—‹è½¬/ç¿»è½¬

### ä¼˜å…ˆçº§ 3: è®¾ç½®å’Œé…ç½®
- [ ] åº”ç”¨è®¾ç½®ç•Œé¢
- [ ] é”®ç›˜å¿«æ·é”®é…ç½®
- [ ] ä¸»é¢˜åˆ‡æ¢
- [ ] å¤šè¯­è¨€æ”¯æŒ

### ä¼˜å…ˆçº§ 4: è¿›é˜¶åŠŸèƒ½
- [ ] Susie æ’ä»¶æ”¯æŒ
- [ ] å›¾åƒæ»¤é•œæ•ˆæœ
- [ ] æ•°æ®åº“æ”¯æŒ
- [ ] è¶…åˆ†è¾¨ç‡é›†æˆ

## ğŸ¨ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Svelte 5** - ç°ä»£åŒ–å“åº”å¼æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS** - æ ·å¼ç³»ç»Ÿ
- **shadcn-svelte** - UI ç»„ä»¶åº“
- **Vite** - æ„å»ºå·¥å…·

### åç«¯
- **Rust** - é«˜æ€§èƒ½ç³»ç»Ÿè¯­è¨€
- **Tauri 2** - æ¡Œé¢åº”ç”¨æ¡†æ¶
- **serde** - åºåˆ—åŒ–/ååºåˆ—åŒ–
- **base64** - å›¾åƒç¼–ç 

## ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ

### ä¹¦ç± (Book)
ä¸€ä¸ª"ä¹¦ç±"å¯ä»¥æ˜¯:
- æ–‡ä»¶å¤¹ (åŒ…å«å›¾ç‰‡çš„ç›®å½•)
- å‹ç¼©åŒ… (ZIP, RAR, 7z)
- PDF æ–‡ä»¶
- å•ä¸ªåª’ä½“æ–‡ä»¶

### é¡µé¢ (Page)
ä¹¦ç±ä¸­çš„å•ä¸ªå›¾ç‰‡é¡µé¢ï¼ŒåŒ…å«:
- è·¯å¾„ã€æ–‡ä»¶åã€å¤§å°
- å›¾åƒå°ºå¯¸
- ç¼©ç•¥å›¾æ•°æ®
- åŠ è½½çŠ¶æ€

### çŠ¶æ€ç®¡ç†
ä½¿ç”¨ Svelte 5 çš„ `$state` å’Œ Store ç³»ç»Ÿ:
- `currentBook` - å½“å‰æ‰“å¼€çš„ä¹¦ç±
- `currentPage` - å½“å‰æ˜¾ç¤ºçš„é¡µé¢
- `zoomLevel` - ç¼©æ”¾çº§åˆ«
- `sidebarOpen` - ä¾§è¾¹æ çŠ¶æ€

### Tauri Commands
å‰åç«¯é€šä¿¡é€šè¿‡ Tauri Commands:
```rust
#[tauri::command]
pub async fn open_book(path: String) -> Result<BookInfo, String>
```

å‰ç«¯è°ƒç”¨:
```typescript
const book = await invoke<BookInfo>('open_book', { path });
```

## ğŸ® é”®ç›˜å¿«æ·é”®

- `â†` / `PageUp` - ä¸Šä¸€é¡µ
- `â†’` / `PageDown` - ä¸‹ä¸€é¡µ
- `+` / `=` - æ”¾å¤§
- `-` / `_` - ç¼©å°
- `0` - é‡ç½®ç¼©æ”¾
- `F11` - å…¨å± (è®¡åˆ’ä¸­)

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ Tauri Command

1. åœ¨ `src-tauri/src/commands/` ä¸­å®šä¹‰å‘½ä»¤
2. åœ¨ `src-tauri/src/lib.rs` ä¸­æ³¨å†Œå‘½ä»¤
3. åœ¨ `src/lib/api/` ä¸­åˆ›å»ºå‰ç«¯å°è£…
4. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

### æ·»åŠ æ–°çš„ Store

1. åœ¨ `src/lib/stores/` ä¸­åˆ›å»º Store æ–‡ä»¶
2. ä½¿ç”¨ Svelte çš„ `writable` æˆ– `derived`
3. å¯¼å‡º Store å’Œæ“ä½œå‡½æ•°

### æ·»åŠ æ–°çš„ç»„ä»¶

1. åœ¨ `src/lib/components/` å¯¹åº”ç›®å½•åˆ›å»º `.svelte` æ–‡ä»¶
2. ä½¿ç”¨ TypeScript å’Œ shadcn-svelte ç»„ä»¶
3. é€šè¿‡ Store ç®¡ç†çŠ¶æ€

## ğŸ› è°ƒè¯•

### æŸ¥çœ‹æ—¥å¿—
å¼€å‘æ¨¡å¼ä¸‹ï¼ŒRust æ—¥å¿—ä¼šè¾“å‡ºåˆ°ç»ˆç«¯

### æµè§ˆå™¨å¼€å‘å·¥å…·
æŒ‰ `F12` æ‰“å¼€æµè§ˆå™¨å¼€å‘å·¥å…·æŸ¥çœ‹å‰ç«¯æ—¥å¿—

## ğŸ“„ License

MIT License - ä¸åŸ NeeView é¡¹ç›®ä¿æŒä¸€è‡´

## ğŸ™ è‡´è°¢

- åŸé¡¹ç›®: [NeeView](https://github.com/udaken/NeeView)
- æ¨¡æ¿: [tauri2-svelte5-shadcn](https://github.com/alysonhower/tauri2-svelte5-shadcn)
