# https://taskfile.dev
 
version: '3'

vars:
  PROJECT_DIR: .

tasks:
  default:
    desc: Show current app versions
    cmds:
      - task: version:show


  dev:
    desc: Start Tauri development server
    cmds:
      - yarn tauri dev

  version:show:
    desc: Show versions in package.json, tauri.conf.json and Cargo.toml
    dir: '{{.PROJECT_DIR}}'
    cmds:
      - node scripts/version.mjs show

  version:set:
    desc: Set version in package.json, tauri.conf.json and Cargo.toml
    dir: '{{.PROJECT_DIR}}'
    vars:
      VERSION_ARG: '{{.CLI_ARGS | default .VERSION}}'
    cmds:
      - node scripts/version.mjs set {{.VERSION_ARG}}
